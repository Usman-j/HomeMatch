# HomeMatch
In this project, our goal is to create personalized experience for each home buyer, making the property search process more engaging and tailored to individual preferences. We will leverage large language models (LLMs) and vector databases to transform standard real estate listings into personalized narratives that resonate with potential buyers' unique preferences and needs.

## Project Details
### Synthetic Data Generation
- The [dataset](./listings.json) comprising of 15 brief real estate listings has been synthetically generated by OpenAI ['gpt-3.5-turbo-instruct'](https://platform.openai.com/docs/models/gpt-3-5-turbo).
- Each listing comprises of two kinds of fields;
    1. Quantitative fields such as price, bedrooms, bathrooms and house_size. The data of these fields could be used for filtering and refining the semantic search results. Such data is stored as metadata in the vector database.
    2. Textual fields such as description and neighborhood_description. The data of these fields will be primarily used for semantic search and is stored as embeddings in the vector database.

### Integration with a Vector Database
- [Chroma](https://python.langchain.com/v0.2/docs/integrations/vectorstores/chroma/) is chosen as the vector database for this project and accessed via LangChain.
- The data from the textual fields is combined into a single string to convert into embeddings.
- [OpenAI](https://python.langchain.com/v0.2/docs/integrations/text_embedding/openai/) is used to generate embeddings for the textual data and stored in Chroma vector database.

### Obtaining Buyer Preferences
- Buyer preferences are obtained through a set of pre-defined questions related to location, amenities and neighborhood vibes of the property.
- The answers to the questions can be either hard-coded or entered in an interactive manner. 

### Generating Search Query
- The preference questions and answers are provided as a chat history to OpenAI ['gpt-4o-mini'](https://platform.openai.com/docs/models/gpt-4o-mini) which is prompted to generate a search query which could subsequently be used to search against the vector database.
- Resultant search query is more efficient than using the whole preference chat history as a search query. 
- This search query will later be utilized to generate personalized real estate listings as well.

### Searching and Personalizing Real Estate Listings
- Top 3 semantically similar listings are retrieved based on the generated search query.
- OpenAI ['gpt-4o-mini'](https://platform.openai.com/docs/models/gpt-4o-mini) is employed to personalize the fetched listings based on the concise user preferences that are present in the generated search query.
- This augmentation prompt was engineered such that the augmentation does not alter the factual information of the original listing.  

## Quick Start
- The [conda environment file](./homematch.yml) is provided for installing the relevant packages needed to run the [notebook](./HomeMatch.ipynb). A valid [OpenAI API](https://platform.openai.com/) will also be required to run the OpenAI models utilized in the project.

## Example Outputs
- Two example outputs with different buyer preferences are provided at the end of the [notebook](./HomeMatch.ipynb).
- Each example provides the top 3 search results with both original and augmented real estate listing descriptions along with the user preferences.    

## Limitations
- Although the data from the quantitative fields was stored as metadata in the Chroma vector database, it was not utilized to refine the search results. This is because the user preference pertaining to such quantitative information cannot be accurately obtained as a freeform text which is the input type used in this project. Such quantitative information should ideally be obtained from the user in a more controlled manner such as a form field that only accepts numeric input, etc.
- Despite multiple iterations of engineering the augmentation prompt to personalize searched real estate listings, the LLM is still prone to adding some qualitative information in the personalized listing that is not present in the original listing.   
